{"id":"SDMr","dependencies":[{"name":"/home/sam/Projects/RedTeamToolkit/src/tsconfig.json","includedInParent":true,"mtime":1572351791815},{"name":"/home/sam/Projects/RedTeamToolkit/src/package.json","includedInParent":true,"mtime":1572374864130},{"name":"./commands","loc":{"line":3,"column":25},"parent":"/home/sam/Projects/RedTeamToolkit/src/res/script/ts/term.ts","resolved":"/home/sam/Projects/RedTeamToolkit/src/res/script/ts/commands.ts"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var e=require(\"./commands\"),i=function(){function i(){var i=this;this.line_buffer=[],this.history_buffer=[],this.curBuffer=\"\",this.isTerminal=!1,this.line=0,this.cmd=new e.Commands,this.termElement=document.getElementById(\"terminal\"),this.line_buffer.forEach(function(e){i.curBuffer+=e}),this.termElement.addEventListener(\"mouseover\",function(){i.isTerminal=!0,console.log(\"enter\")}),this.termElement.onmouseleave=function(){i.isTerminal=!1}}return i.prototype.handle_input=function(e){var i=this;if(this.isTerminal){if(\"Backspace\"!==e.key)if(e.keyCode<48)switch(e.keyCode){case 32:this.line_buffer.push(e.key);break;case 13:this.history_buffer.push(this.curBuffer),document.getElementById(\"history\").innerHTML=document.getElementById(\"history\").innerHTML+\"<span>\"+this.curBuffer+\"</span><br />\",new Promise(function(e){return i.cmd.parse(i.curBuffer)}),this.line_buffer=[],this.line=0;break;case 38:this.line<this.history_buffer.length&&(this.line+=1,this.line_buffer=this.history_buffer[this.history_buffer.length-this.line].split(\"\"));break;case 40:this.line>1?(this.line-=1,this.line_buffer=this.history_buffer[this.history_buffer.length-this.line].split(\"\")):(this.line=0,this.line_buffer=[])}else this.line_buffer.push(e.key);else this.line_buffer.pop();var t=document.body.getElementsByClassName(\"input\")[0];this.curBuffer=\"\",this.line_buffer.forEach(function(e){i.curBuffer+=e}),t.innerHTML=this.curBuffer}},i}();exports.Terminal=i;"},"sourceMaps":{"js":{"mappings":[{"source":"res/script/ts/term.ts","name":null,"original":{"line":2,"column":13},"generated":{"line":1,"column":0}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":2,"column":13},"generated":{"line":1,"column":13}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":2,"column":13},"generated":{"line":1,"column":20}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":2,"column":13},"generated":{"line":1,"column":35}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":2,"column":13},"generated":{"line":1,"column":43}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":2,"column":13},"generated":{"line":1,"column":56}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":2,"column":13},"generated":{"line":1,"column":57}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":2,"column":13},"generated":{"line":1,"column":64}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":68}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":72}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":74}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":82}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":96}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":98}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":10,"column":4},"generated":{"line":1,"column":109}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":10,"column":4},"generated":{"line":1,"column":118}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":10,"column":4},"generated":{"line":1,"column":122}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":10,"column":4},"generated":{"line":1,"column":126}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":10,"column":4},"generated":{"line":1,"column":128}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":3,"column":4},"generated":{"line":1,"column":133}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":3,"column":4},"generated":{"line":1,"column":138}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":3,"column":34},"generated":{"line":1,"column":150}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":4,"column":4},"generated":{"line":1,"column":153}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":4,"column":4},"generated":{"line":1,"column":158}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":4,"column":37},"generated":{"line":1,"column":173}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":5,"column":4},"generated":{"line":1,"column":176}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":5,"column":4},"generated":{"line":1,"column":181}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":5,"column":16},"generated":{"line":1,"column":191}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":6,"column":4},"generated":{"line":1,"column":194}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":6,"column":4},"generated":{"line":1,"column":199}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":6,"column":27},"generated":{"line":1,"column":211}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":8,"column":4},"generated":{"line":1,"column":213}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":8,"column":4},"generated":{"line":1,"column":218}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":8,"column":20},"generated":{"line":1,"column":223}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":9,"column":4},"generated":{"line":1,"column":225}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":9,"column":4},"generated":{"line":1,"column":230}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":234}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":9,"column":25},"generated":{"line":1,"column":238}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":9,"column":25},"generated":{"line":1,"column":240}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":11,"column":13},"generated":{"line":1,"column":249}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":11,"column":13},"generated":{"line":1,"column":254}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":11,"column":28},"generated":{"line":1,"column":266}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":11,"column":37},"generated":{"line":1,"column":275}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":11,"column":52},"generated":{"line":1,"column":290}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":12,"column":13},"generated":{"line":1,"column":302}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":12,"column":13},"generated":{"line":1,"column":307}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":12,"column":25},"generated":{"line":1,"column":319}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":12,"column":33},"generated":{"line":1,"column":327}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":12,"column":33},"generated":{"line":1,"column":336}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":13,"column":12},"generated":{"line":1,"column":339}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":13,"column":17},"generated":{"line":1,"column":341}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":13,"column":30},"generated":{"line":1,"column":352}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":15,"column":13},"generated":{"line":1,"column":356}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":15,"column":13},"generated":{"line":1,"column":361}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":15,"column":25},"generated":{"line":1,"column":373}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":15,"column":42},"generated":{"line":1,"column":390}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":15,"column":55},"generated":{"line":1,"column":402}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":16,"column":12},"generated":{"line":1,"column":413}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":16,"column":17},"generated":{"line":1,"column":415}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":16,"column":28},"generated":{"line":1,"column":427}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":17,"column":12},"generated":{"line":1,"column":429}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":17,"column":20},"generated":{"line":1,"column":437}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":17,"column":24},"generated":{"line":1,"column":441}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":19,"column":13},"generated":{"line":1,"column":452}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":19,"column":13},"generated":{"line":1,"column":457}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":19,"column":25},"generated":{"line":1,"column":469}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":19,"column":40},"generated":{"line":1,"column":482}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":20,"column":12},"generated":{"line":1,"column":493}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":20,"column":17},"generated":{"line":1,"column":495}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":20,"column":28},"generated":{"line":1,"column":507}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":69,"column":0},"generated":{"line":1,"column":510}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":24,"column":11},"generated":{"line":1,"column":517}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":24,"column":11},"generated":{"line":1,"column":519}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":24,"column":11},"generated":{"line":1,"column":529}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":24,"column":4},"generated":{"line":1,"column":542}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":24,"column":24},"generated":{"line":1,"column":551}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":24,"column":4},"generated":{"line":1,"column":554}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":24,"column":4},"generated":{"line":1,"column":558}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":24,"column":4},"generated":{"line":1,"column":560}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":25,"column":11},"generated":{"line":1,"column":565}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":25,"column":11},"generated":{"line":1,"column":568}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":25,"column":16},"generated":{"line":1,"column":573}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":25,"column":28},"generated":{"line":1,"column":584}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":26,"column":15},"generated":{"line":1,"column":585}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":26,"column":26},"generated":{"line":1,"column":588}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":26,"column":15},"generated":{"line":1,"column":602}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":26,"column":18},"generated":{"line":1,"column":604}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":27,"column":19},"generated":{"line":1,"column":608}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":27,"column":19},"generated":{"line":1,"column":611}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":27,"column":22},"generated":{"line":1,"column":613}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":27,"column":32},"generated":{"line":1,"column":621}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":28,"column":27},"generated":{"line":1,"column":624}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":28,"column":27},"generated":{"line":1,"column":631}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":28,"column":30},"generated":{"line":1,"column":633}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":29,"column":29},"generated":{"line":1,"column":642}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":29,"column":29},"generated":{"line":1,"column":647}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":30,"column":33},"generated":{"line":1,"column":650}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":30,"column":33},"generated":{"line":1,"column":655}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":30,"column":45},"generated":{"line":1,"column":667}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":30,"column":50},"generated":{"line":1,"column":672}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":30,"column":53},"generated":{"line":1,"column":674}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":31,"column":28},"generated":{"line":1,"column":679}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":32,"column":29},"generated":{"line":1,"column":685}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":32,"column":29},"generated":{"line":1,"column":690}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":33,"column":32},"generated":{"line":1,"column":693}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":33,"column":32},"generated":{"line":1,"column":698}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":33,"column":47},"generated":{"line":1,"column":713}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":33,"column":52},"generated":{"line":1,"column":718}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":33,"column":57},"generated":{"line":1,"column":723}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":34,"column":29},"generated":{"line":1,"column":734}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":34,"column":38},"generated":{"line":1,"column":743}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":34,"column":53},"generated":{"line":1,"column":758}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":34,"column":80},"generated":{"line":1,"column":769}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":34,"column":93},"generated":{"line":1,"column":779}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":34,"column":102},"generated":{"line":1,"column":788}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":34,"column":117},"generated":{"line":1,"column":803}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":34,"column":144},"generated":{"line":1,"column":814}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":34,"column":156},"generated":{"line":1,"column":824}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":34,"column":167},"generated":{"line":1,"column":833}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":34,"column":172},"generated":{"line":1,"column":838}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":34,"column":184},"generated":{"line":1,"column":848}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":35,"column":32},"generated":{"line":1,"column":864}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":35,"column":32},"generated":{"line":1,"column":868}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":35,"column":40},"generated":{"line":1,"column":876}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":35,"column":41},"generated":{"line":1,"column":885}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":35,"column":47},"generated":{"line":1,"column":888}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":35,"column":47},"generated":{"line":1,"column":895}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":35,"column":52},"generated":{"line":1,"column":897}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":35,"column":56},"generated":{"line":1,"column":901}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":35,"column":62},"generated":{"line":1,"column":907}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":35,"column":67},"generated":{"line":1,"column":909}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":36,"column":33},"generated":{"line":1,"column":922}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":36,"column":33},"generated":{"line":1,"column":927}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":36,"column":47},"generated":{"line":1,"column":939}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":37,"column":33},"generated":{"line":1,"column":942}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":37,"column":33},"generated":{"line":1,"column":947}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":37,"column":40},"generated":{"line":1,"column":952}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":38,"column":28},"generated":{"line":1,"column":954}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":39,"column":29},"generated":{"line":1,"column":960}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":39,"column":29},"generated":{"line":1,"column":965}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":40,"column":31},"generated":{"line":1,"column":968}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":40,"column":36},"generated":{"line":1,"column":973}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":40,"column":43},"generated":{"line":1,"column":978}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":40,"column":48},"generated":{"line":1,"column":983}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":40,"column":63},"generated":{"line":1,"column":998}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":41,"column":37},"generated":{"line":1,"column":1007}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":41,"column":37},"generated":{"line":1,"column":1012}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":41,"column":45},"generated":{"line":1,"column":1018}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":42,"column":37},"generated":{"line":1,"column":1020}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":42,"column":37},"generated":{"line":1,"column":1025}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":42,"column":51},"generated":{"line":1,"column":1037}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":42,"column":56},"generated":{"line":1,"column":1042}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":42,"column":71},"generated":{"line":1,"column":1057}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":42,"column":76},"generated":{"line":1,"column":1062}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":42,"column":91},"generated":{"line":1,"column":1077}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":42,"column":100},"generated":{"line":1,"column":1084}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":42,"column":105},"generated":{"line":1,"column":1089}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":42,"column":111},"generated":{"line":1,"column":1095}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":42,"column":117},"generated":{"line":1,"column":1101}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":44,"column":28},"generated":{"line":1,"column":1106}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":45,"column":29},"generated":{"line":1,"column":1112}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":45,"column":29},"generated":{"line":1,"column":1117}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":46,"column":31},"generated":{"line":1,"column":1120}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":46,"column":36},"generated":{"line":1,"column":1125}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":46,"column":43},"generated":{"line":1,"column":1130}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":47,"column":37},"generated":{"line":1,"column":1133}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":47,"column":37},"generated":{"line":1,"column":1138}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":47,"column":45},"generated":{"line":1,"column":1144}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":48,"column":37},"generated":{"line":1,"column":1146}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":48,"column":37},"generated":{"line":1,"column":1151}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":48,"column":51},"generated":{"line":1,"column":1163}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":48,"column":56},"generated":{"line":1,"column":1168}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":48,"column":71},"generated":{"line":1,"column":1183}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":48,"column":76},"generated":{"line":1,"column":1188}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":48,"column":91},"generated":{"line":1,"column":1203}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":48,"column":100},"generated":{"line":1,"column":1210}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":48,"column":105},"generated":{"line":1,"column":1215}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":48,"column":111},"generated":{"line":1,"column":1221}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":48,"column":117},"generated":{"line":1,"column":1227}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":50,"column":37},"generated":{"line":1,"column":1233}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":50,"column":37},"generated":{"line":1,"column":1238}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":50,"column":44},"generated":{"line":1,"column":1243}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":51,"column":37},"generated":{"line":1,"column":1245}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":51,"column":37},"generated":{"line":1,"column":1250}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":51,"column":51},"generated":{"line":1,"column":1262}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":56,"column":25},"generated":{"line":1,"column":1271}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":56,"column":25},"generated":{"line":1,"column":1276}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":56,"column":37},"generated":{"line":1,"column":1288}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":56,"column":42},"generated":{"line":1,"column":1293}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":56,"column":45},"generated":{"line":1,"column":1295}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":59,"column":21},"generated":{"line":1,"column":1305}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":59,"column":21},"generated":{"line":1,"column":1310}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":59,"column":33},"generated":{"line":1,"column":1322}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":61,"column":16},"generated":{"line":1,"column":1328}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":61,"column":16},"generated":{"line":1,"column":1332}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":61,"column":24},"generated":{"line":1,"column":1334}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":61,"column":33},"generated":{"line":1,"column":1343}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":61,"column":38},"generated":{"line":1,"column":1348}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":61,"column":61},"generated":{"line":1,"column":1371}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":61,"column":70},"generated":{"line":1,"column":1380}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":62,"column":17},"generated":{"line":1,"column":1383}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":62,"column":17},"generated":{"line":1,"column":1388}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":62,"column":29},"generated":{"line":1,"column":1398}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":63,"column":17},"generated":{"line":1,"column":1401}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":63,"column":17},"generated":{"line":1,"column":1406}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":63,"column":29},"generated":{"line":1,"column":1418}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":63,"column":37},"generated":{"line":1,"column":1426}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":63,"column":37},"generated":{"line":1,"column":1435}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":64,"column":16},"generated":{"line":1,"column":1438}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":64,"column":21},"generated":{"line":1,"column":1440}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":64,"column":34},"generated":{"line":1,"column":1451}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":66,"column":13},"generated":{"line":1,"column":1455}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":66,"column":35},"generated":{"line":1,"column":1457}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":66,"column":47},"generated":{"line":1,"column":1467}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":66,"column":52},"generated":{"line":1,"column":1472}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":69,"column":0},"generated":{"line":1,"column":1484}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":1486}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":2,"column":13},"generated":{"line":1,"column":1489}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":2,"column":13},"generated":{"line":1,"column":1497}},{"source":"res/script/ts/term.ts","name":null,"original":{"line":2,"column":13},"generated":{"line":1,"column":1506}}],"sources":{"res/script/ts/term.ts":"import { Commands } from './commands';\nexport class Terminal {\n    line_buffer : Array<string> = [];\n    history_buffer : Array<string> = [];\n    curBuffer = \"\"; \n    isTerminal : boolean = false;\n    termElement : HTMLElement;\n    line : number = 0;\n    cmd : Commands = new Commands();\n    constructor() {\n        this.termElement = (document.getElementById(\"terminal\") as HTMLElement)\n        this.line_buffer.forEach(element => {\n            this.curBuffer += element;\n        });\n        this.termElement.addEventListener(\"mouseover\", ()=>{\n            this.isTerminal=true;\n            console.log(\"enter\");\n        });\n        this.termElement.onmouseleave = ()=>{\n            this.isTerminal=false;\n        }\n        \n    }\n    public handle_input(ev : KeyboardEvent) : void {\n        if(this.isTerminal) {\n            if(ev.key !== \"Backspace\") {\n                if(ev.keyCode < 48) {\n                    switch(ev.keyCode) {\n                        case 32:\n                            this.line_buffer.push(ev.key);\n                            break;\n                        case 13:\n                           this.history_buffer.push(this.curBuffer);\n                            (document.getElementById(\"history\") as HTMLElement).innerHTML = (document.getElementById(\"history\") as HTMLElement).innerHTML + \"<span>\" + this.curBuffer + \"</span><br />\" ;\n                            new Promise((res)=>this.cmd.parse(this.curBuffer));\n                            this.line_buffer = [];\n                            this.line = 0;\n                            break;\n                        case 38:\n                            if(this.line < this.history_buffer.length){\n                                this.line += 1;\n                                this.line_buffer = this.history_buffer[this.history_buffer.length - this.line].split(\"\");\n                            }\n                            break;\n                        case 40:\n                            if(this.line > 1){\n                                this.line -= 1;\n                                this.line_buffer = this.history_buffer[this.history_buffer.length - this.line].split(\"\");\n                            } else {\n                                this.line = 0;\n                                this.line_buffer = [];\n                            }\n                            break;\n                    }\n                } else {\n                    this.line_buffer.push(ev.key);\n                }\n            } else {\n                this.line_buffer.pop();\n            }\n            let input = document.body.getElementsByClassName(\"input\")[0];\n            this.curBuffer = \"\"; \n            this.line_buffer.forEach(element => {\n                this.curBuffer += element;\n            });\n            (input as HTMLElement).innerHTML = this.curBuffer;\n        }\n    }\n}\n    \n    "},"lineCount":null}},"error":null,"hash":"a9a22010461889db68ba7cc24ff16161","cacheData":{"env":{}}}